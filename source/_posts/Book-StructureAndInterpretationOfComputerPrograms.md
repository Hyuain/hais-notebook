---
title: 读书笔记：《计算机程序的构造和解释》
date: 2023-01-17 11:08:32
tags:
  - 读书笔记
categories:
  - [计算机]
---

关于程序设计与算法，本书主要使用 Lisp 的方言 Scheme 进行举例，这门语言拥有将过程表示为数据的能力。

<!-- more -->

# 过程抽象

 ## 程序设计的基本元素

每种语言都提供了 **基本表达式、组合的方法、抽象的方法**，能够将简单的认识组合起来形成更复杂的认识。

### 表达式与组合式

组合式就是复合表达式，用来把 **过程** 应用于这些数上。下面就是一些组合式。

```scheme
(+ 137 349 2354 11)
(- 1000 334)
```

运算符放在运算对象的左边，称为 **前缀表示**，他的优点是能够适用于可能带有任意个实参的过程。

#### 组合式的求值

- 过程实际上是 **递归** 的，需要对组合式的每个子元素执行相同的过程
- **树形累积**：可以采用一棵树的图形来表示组合式的求值过程

### 命名和环境

将名字标识符称为 **变量**，他的 **值** 就是他所对应的那个对象。

```scheme
(define size 2)
```

### 过程定义与复合过程

```scheme
(define (<name> <formal parameters>) <body>)
(define (square x) (* x x))
(square 21)
(square (+ 2 5))

(define (sum-of-squares x y)
  (+ (square x) (square y)))
```

#### 复合过程的求值

可以使用 **代换模型** 来进行思考（注意这并不是解释器的实际工作方式）：

```scheme
(sum-of-squares 6 10)
(+ (square 6) (square 10))
(+ (* 6 6) (* 10 10))
```

####  应用序与正则序

- 正则序：完全展开而后归约

- 应用序：先求值参数而后应用，可以避免对表达式的重复求值

### 条件表达式和谓词

有多种表达式可以表达 `|x|` 的值：

```scheme
(cond (<p1> <e1>)
      (<p2> <e2>)
      ...
      (<pn> <en>))
(define (abs x)
  (cond ((> x 0) x)
        ((= x 0) 0)
        ((< x 0) -x)))
```

其中 `<p>` 被称为 **谓词**，他是一个 **表达式**，他的值被解释为真或者假。

```scheme
(if <predicate> <consequent> <alternative>)
(define (abs x)
  (if (< x 0)
      (- x)
      x))
```

